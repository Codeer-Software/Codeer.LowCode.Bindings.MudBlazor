@using Codeer.LowCode.Bindings.MudBlazor.Enums
@using Codeer.LowCode.Blazor.OperatingModel
@inherits MudFieldComponentBase<ButtonField, MudButtonFieldDesign>

<MudButton Variant="MudDesign.MudVariant.ToVariant()" Color="MudDesign.Color.ToColor()"
           Disabled="@IsDisabled" FullWidth="@IsBlock" OnClick="RaiseOnClick" StartIcon="@Field.Design.Icon">
  @Label
</MudButton>

@code {
  private string? Label => Field.Design.Text;
  private bool IsDisabled => Field.IsEnabled == false || IsViewMode;
  private bool IsViewMode => Field.IsViewOnly;

  [Parameter]
  public bool IsBlock { get; set; } = true;

  private Task RaiseOnClick() => Field.InvokeOnClick();

}